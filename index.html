<!DOCTYPE html>
<html>
<head>
    <title>Mercury1089 Scouting</title>
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->
    <link rel="stylesheet" href="style.css">
    <script src="qrcode.js"></script>
    <script src="qrcode.min.js"></script>
</head>
<body>
    
    <script>
        
        var autonHigh = 0
        var autonLow = 0
        
        var teleHigh = 0
        var teleLow = 0
        
        
        function autonHighPButton() {
            autonHigh++;
            document.getElementById("highGoalAuton").innerHTML = autonHigh;
        }
        function autonHighMButton() {
            if (autonHigh-1 >= 0) {
                autonHigh--;
                document.getElementById("highGoalAuton").innerHTML = autonHigh;
            }
        }
        function autonLowPButton() {
            autonLow++;
            document.getElementById("lowGoalAuton").innerHTML = autonLow;
        }
        function autonLowMButton() {
            if (autonLow-1 >= 0) {
                autonLow--;
                document.getElementById("lowGoalAuton").innerHTML = autonLow;
            }
        }
        
        function teleHighPButton() {
            teleHigh++;
            document.getElementById("highGoalTele").innerHTML = teleHigh;
        }
        function teleHighMButton() {
            if (teleHigh-1 >= 0) {
                teleHigh--;
                document.getElementById("highGoalTele").innerHTML = teleHigh;
            }
        }
        function teleLowPButton() {
            teleLow++;
            document.getElementById("lowGoalTele").innerHTML = teleLow;
        }
        function teleLowMButton() {            
            if (teleLow-1 >= 0) {
                teleLow--;
                document.getElementById("lowGoalTele").innerHTML = teleLow;
            }
        }
        
        function reset() {
            document.getElementById("teamnum").value = "";
            document.getElementById("baseline").checked = false;
            document.getElementById("auton0").selected = true;
            autonHigh = 0;
            autonLow = 0;
            document.getElementById("highGoalAuton").textContent = "0";
            document.getElementById("lowGoalAuton").textContent = "0";
            document.getElementById("tele0").selected = true;
            teleHigh = 0;
            teleLow = 0;
            document.getElementById("highGoalTele").textContent = "0";
            document.getElementById("lowGoalTele").textContent = "0";
            document.getElementById("touchpad").checked = false;
            document.getElementById("qrcode").innerHTML = "";
        }

        function getQr() {
            var text = document.getElementById("teamnum").value + "," + document.getElementById("baseline").checked + "," + document.querySelector('input[name="rotorauton"]:checked').value + "," + autonHigh + "," + autonLow + "," + document.querySelector('input[name="rotortele"]:checked').value + "," + teleHigh + "," + teleLow + "," + document.getElementById("touchpad").checked;
            new QRCode(document.getElementById("qrcode"), text);
            
        }
        
        function clearCode() {
            document.getElementById("qrcode").innerHTML = "";
        }
        
        function uploadBtn() {
            var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance 
            xmlhttp.open("POST", "https://sheetsu.com/apis/v1.0/ffc9aee63ba1");
            xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xmlhttp.send(JSON.stringify({"Team Number": document.getElementById("teamnum").value,
                                         "Baseline Breached": document.getElementById("baseline").checked,
                                         "Number of Rotors (Auton)": document.getElementById("rotorAuton").options[document.getElementById("rotorAuton").selectedIndex].value,
                                         "High Goal (Auton)": autonHigh,
                                         "Low Goal (Auton)": autonLow,
                                         "Number of Rotors (TeleOp)": document.getElementById("rotorTele").options[document.getElementById("rotorTele").selectedIndex].value,
                                         "High Goal (TeleOp)": teleHigh,
                                         "Low Goal (TeleOp)": teleLow,
                                         "Touchpad Reached": document.getElementById("touchpad").checked}));
            
            alert("Thanks!");
        }
        
        
        
    </script>
    
    <div class="titlebar">
        <button onclick="reset()" class="reset"type="button"><img width="30px" height="30px"src="reset.png"/></button>
    <p class="title">FRC STEAMWORKS 2017</p>
    </div>
    
    <br><br><br><br><br><br>
    Team Number:
    <input type="tel" maxlength="5" id="teamnum"></input>
    
    <br><br>
    <h1>AUTONOMOUS</h1>
<input type='checkbox' name='baseline' value='valuable2' id="baseline" data-bind="checked: chk"/><label for="baseline"></label>
    <label for="baseline">&nbsp;Baseline Breached.</label>
    <div data-bind="html: chk"></div>
    <br>
    
    Number of rotors turning:
    
    <input id="auton0" type="radio" value="0" name="rotorauton" checked></input>
    <label for="auton0">0</label>
    <input id="auton1" type="radio" value="1" name="rotorauton" ></input>
    <label for="auton1">1</label>
    <input id="auton2" type="radio" value="2" name="rotorauton" ></input>
    <label for="auton2">2</label>
    <input id="auton3" type="radio" value="3" name="rotorauton" ></input>
    <label for="auton3">3</label>
    <input id="auton4" type="radio" value="4" name="rotorauton" ></input>
    <label for="auton4">4</label>
    <br><br>
    
    <div id="highGoalAuton" style="display: inline">0</div> high goal scored.<br>
    <button type="button" class="counterButtonPlus" onclick="autonHighPButton()">+</button>
    <button type="button" class="counterButtonMinus" onclick="autonHighMButton()">-</button>
    <br><br>
    
    <div id="lowGoalAuton" style="display: inline">0</div> low goal scored.<br>
    <button type="button" class="counterButtonPlus" onclick="autonLowPButton()">+</button>
    <button type="button" class="counterButtonMinus" onclick="autonLowMButton()">-</button>
    <br><br>
    
    <h1>TELE-OP</h1>
    
    
    Number of rotors turning:

    <input id="tele0" type="radio" value="0" name="rotortele" checked></input>
    <label for="tele0">0</label>
    <input id="tele1" type="radio" value="1" name="rotortele" ></input>
    <label for="tele1">1</label>
    <input id="tele2" type="radio" value="2" name="rotortele" ></input>
    <label for="tele2">2</label>
    <input id="tele3" type="radio" value="3" name="rotortele" ></input>
    <label for="tele3">3</label>
    <input id="tele4" type="radio" value="4" name="rotortele" ></input>
    <label for="tele4">4</label>
    <br><br>
    
    <div id="highGoalTele" style="display: inline">0</div> high goal scored.<br>
    <button type="button" class="counterButtonPlus" onclick="teleHighPButton()">+</button>
    <button type="button" class="counterButtonMinus" onclick="teleHighMButton()">-</button>
    <br><br>
    
    <div id="lowGoalTele" style="display: inline">0</div> low goal scored.<br>
    <button type="button" class="counterButtonPlus" onclick="teleLowPButton()">+</button>
    <button type="button" class="counterButtonMinus" onclick="teleLowMButton()">-</button>
    <br><br>
    
    <input type='checkbox' name='touchpad' value='valuable2' id="touchpad" data-bind="checked: chk"/><label for="touchpad"></label>
    <label for="touchpad">&nbsp;Touchpad Reached.</label>
    <div data-bind="html: chk"></div>

    <br><br>
    <br><br>
    
    <a href="#openModal" onclick="getQr()" class="modalOpen"><span>Get QR Code</span></a>
    <br><br><br>

<div id="openModal" class="modalDialog">
	<div>
		<a href="#close" onclick="clearCode()" title="Close" class="close">&times;</a>
		<h2 style="">QR Code</h2>
        <p style="font-family: SourceSansPro">Make sure to show this to a strategy head.</p>
        <br><br>
		<div id="qrcode" style=""></div><br><br>
	</div>
</div>

</div>
</body>
</html>